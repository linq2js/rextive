@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body {
    @apply bg-black;
    font-family: "Nunito", system-ui, sans-serif;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Fredoka", system-ui, sans-serif;
  }

  /* Portrait mode container */
  #root {
    @apply min-h-screen flex items-center justify-center;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-semibold transition-all duration-200 active:scale-95;
  }

  .btn-primary {
    @apply bg-primary-500 text-white hover:bg-primary-600 shadow-lg shadow-primary-500/30;
  }

  .btn-kid {
    @apply bg-gradient-to-r from-kid-yellow via-kid-orange to-kid-pink text-white shadow-lg hover:shadow-xl;
  }

  .btn-outline {
    @apply border-2 border-gray-300 bg-white text-gray-700 hover:border-primary-500 hover:text-primary-500;
  }

  .card {
    @apply rounded-2xl bg-white p-4 shadow-lg sm:p-6;
  }

  .input {
    @apply w-full rounded-xl border-2 border-gray-200 bg-white px-4 py-3 text-gray-900 transition-colors focus:border-primary-500 focus:outline-none placeholder:text-gray-400;
  }

  .avatar {
    @apply flex h-16 w-16 items-center justify-center rounded-full text-3xl sm:h-20 sm:w-20 sm:text-4xl;
  }
}

@layer utilities {
  .text-gradient-kid {
    @apply bg-gradient-to-r from-kid-yellow via-kid-orange to-kid-pink bg-clip-text text-transparent;
  }

  .bg-pattern-dots {
    background-image: radial-gradient(circle, #e5e7eb 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .bg-pattern-kid {
    background: linear-gradient(135deg, #fef3c7 0%, #fce7f3 50%, #ede9fe 100%);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  /* Portrait mode container - 9:16 aspect ratio */
  .portrait-container {
    /* Width calculated from height to maintain 9:16 aspect ratio */
    width: calc(100vh * 9 / 16);
    width: calc(100dvh * 9 / 16);
    max-width: 100%; /* Don't exceed viewport on mobile */
    height: 100vh;
    height: 100dvh;
    margin: 0 auto;
    position: relative;
    box-shadow: 0 0 60px rgba(0, 0, 0, 0.5);
    overflow-y: auto;
    overflow-x: hidden;
  }
}

/* =============================================================================
   VIEW TRANSITIONS
   Smooth page transitions using the View Transitions API
   Works in Chrome/Edge 111+, gracefully degrades in other browsers
   ============================================================================= */

/* Default transition: Fade */
::view-transition-old(root) {
  animation: fade-out 0.2s ease-out forwards;
}

::view-transition-new(root) {
  animation: fade-in 0.25s ease-in forwards;
}

@keyframes fade-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.98);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(1.02);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Slide up transition for game launches */
::view-transition-old(game-launch) {
  animation: slide-down-out 0.3s ease-in forwards;
}

::view-transition-new(game-launch) {
  animation: slide-up-in 0.3s ease-out forwards;
}

@keyframes slide-down-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

@keyframes slide-up-in {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

